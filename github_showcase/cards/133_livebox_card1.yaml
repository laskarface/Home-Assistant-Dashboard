type: vertical-stack
cards:
- type: custom:button-card
  entity: binary_sensor.livebox_w7_wan_status
  name: Livebox OS
  show_name: true
  show_icon: true
  icon: mdi:router-wireless
  styles:
    card:
    - background: rgba(20, 27, 38, 0.6)
    - backdrop-filter: blur(10px)
    - -webkit-backdrop-filter: blur(10px)
    - border-radius: 20px
    - border: 1px solid rgba(255,255,255,0.1)
    - padding: 20px
    grid:
    - grid-template-areas: '"i n" "i info"'
    - grid-template-columns: 70px 1fr
    icon:
    - width: 50px
    - color: '[[[ return entity.state === ''on'' ? ''#4caf50'' : ''#f44336''; ]]]

        '
    - filter: '[[[ return entity.state === ''on'' ? ''drop-shadow(0 0 5px #4caf5088)''
        : ''none''; ]]]

        '
    name:
    - justify-self: start
    - font-weight: bold
    - font-size: 20px
    - margin-bottom: 5px
  custom_fields:
    info:
      card:
        type: custom:button-card
        styles:
          card:
          - background: none
          - box-shadow: none
          - border: none
          - padding: 0
          grid:
          - grid-template-areas: '"ip label_ip" "link label_link" "up label_up" "remote
              label_remote"'
          - grid-template-columns: 1fr 1fr
          custom_fields:
            ip:
            - justify-self: start
            - font-size: 11px
            - opacity: 0.6
            label_ip:
            - justify-self: end
            - font-size: 11px
            - font-weight: bold
            link:
            - justify-self: start
            - font-size: 11px
            - opacity: 0.6
            label_link:
            - justify-self: end
            - font-size: 11px
            - font-weight: bold
            up:
            - justify-self: start
            - font-size: 11px
            - opacity: 0.6
            label_up:
            - justify-self: end
            - font-size: 11px
            - font-weight: bold
            remote:
            - justify-self: start
            - font-size: 11px
            - opacity: 0.6
            label_remote:
            - justify-self: end
            - font-size: 11px
            - font-weight: bold
        custom_fields:
          ip: 'Adresse IP :'
          label_ip: '[[[ return states[''sensor.orange_livebox_ip_externe''].state
            ]]]'
          link: 'Type de lien :'
          label_link: '[[[ return entity.attributes.link_type ]]]'
          up: 'Uptime :'
          label_up: "[[[ \n  let s = states['sensor.orange_livebox_temps_de_fonctionnement'].state;\n\
            \  let days = Math.floor(s / 86400);\n  let hours = Math.floor((s % 86400)\
            \ / 3600);\n  return (days > 0 ? days + \"j \" : \"\") + hours + \"h\"\
            ;\n]]]\n"
          remote: 'Accès distant :'
          label_remote: '[[[ return states[''binary_sensor.livebox_w7_remote_access''].state
            === ''on'' ? ''Activé'' : ''Désactivé'' ]]]

            '
- type: grid
  columns: 2
  square: false
  cards:
  - type: custom:button-card
    entity: switch.livebox_w7_wifi_switch
    name: WiFi 6E
    show_icon: true
    show_name: true
    icon: mdi:wifi
    state:
    - value: 'on'
      icon: mdi:wifi
      styles:
        card:
        - background: rgba(76, 175, 80, 0.25)
        - border: 1px solid rgba(76, 175, 80, 0.5)
        icon:
        - color: '#4caf50'
    - value: 'off'
      icon: mdi:wifi-off
      styles:
        card:
        - background: rgba(255, 255, 255, 0.05)
        - border: 1px solid rgba(255, 255, 255, 0.1)
        icon:
        - color: '#666'
    styles:
      card:
      - height: 100px
      - border-radius: 15px
      icon:
      - width: 32px
      name:
      - font-size: 13px
      - font-weight: bold
      - margin-top: 8px
  - type: custom:button-card
    entity: switch.livebox_w7_guest_wifi_switch
    name: WiFi Invités
    show_icon: true
    show_name: true
    icon: mdi:wifi-lock-open
    state:
    - value: 'on'
      icon: mdi:wifi-lock-open
      styles:
        card:
        - background: rgba(255, 152, 0, 0.25)
        - border: 1px solid rgba(255, 152, 0, 0.4)
        icon:
        - color: '#ff9800'
    - value: 'off'
      icon: mdi:wifi-off
      styles:
        card:
        - background: rgba(255, 255, 255, 0.05)
        - border: 1px solid rgba(255, 255, 255, 0.1)
        icon:
        - color: '#666'
    styles:
      card:
      - height: 100px
      - border-radius: 15px
      icon:
      - width: 32px
      name:
      - font-size: 13px
      - font-weight: bold
      - margin-top: 8px
- type: grid
  columns: 2
  square: false
  cards:
  - type: custom:button-card
    entity: sensor.livebox_w7_fiber_power_rx
    name: Réception (Rx)
    show_name: true
    show_state: true
    styles:
      card:
      - background: rgba(255, 255, 255, 0.05)
      - border-radius: 20px
      - border: 1px solid rgba(255,255,255,0.1)
      - padding: 15px
      - min-height: 160px
      grid:
      - grid-template-areas: '"n status" "s s" "graph graph"'
      - grid-template-columns: 1fr 30px
      - grid-template-rows: 25px 45px 1fr
      name:
      - justify-self: start
      - font-size: 13px
      - font-weight: 600
      - color: white
      - opacity: 0.8
      state:
      - justify-self: center
      - font-size: 22px
      - font-weight: bold
      - color: white
    custom_fields:
      status:
        card:
          type: custom:button-card
          styles:
            card:
            - width: 12px
            - height: 12px
            - border-radius: 50%
            - justify-self: end
            - background: "[[[ \n  let v = parseFloat(entity.state);\n  if (v > -22)\
                \ return '#4caf50';\n  if (v > -25) return '#ff9800';\n  return '#f44336';\n\
                ]]]\n"
            - box-shadow: "[[[ \n  let v = parseFloat(entity.state);\n  let c = (v\
                \ > -22) ? '#4caf50' : (v > -25) ? '#ff9800' : '#f44336';\n  return\
                \ '0 0 6px ' + c;\n]]]\n"
      graph:
        card:
          type: custom:mini-graph-card
          entities:
          - sensor.livebox_w7_fiber_power_rx
          line_color: "[[[ \n  let v = parseFloat(states['sensor.livebox_w7_fiber_power_rx'].state);\n\
            \  if (v > -22) return '#4caf50';\n  if (v > -25) return '#ff9800';\n\
            \  return '#f44336';\n]]]\n"
          line_width: 4
          show:
            name: false
            icon: false
            state: false
          card_mod:
            style: 'ha-card { background: none; border: none; }'
  - type: custom:button-card
    entity: sensor.livebox_w7_fiber_power_tx
    name: Émission (Tx)
    show_name: true
    show_state: true
    styles:
      card:
      - background: rgba(255, 255, 255, 0.05)
      - border-radius: 20px
      - border: 1px solid rgba(255,255,255,0.1)
      - padding: 15px
      - min-height: 160px
      grid:
      - grid-template-areas: '"n status" "s s" "graph graph"'
      - grid-template-columns: 1fr 30px
      - grid-template-rows: 25px 45px 1fr
      name:
      - justify-self: start
      - font-size: 13px
      - font-weight: 600
      - color: white
      - opacity: 0.8
      state:
      - justify-self: center
      - font-size: 22px
      - font-weight: bold
      - color: white
    custom_fields:
      status:
        card:
          type: custom:button-card
          styles:
            card:
            - width: 12px
            - height: 12px
            - border-radius: 50%
            - justify-self: end
            - background: "[[[ \n  let v = parseFloat(entity.state);\n  if (v >= 1\
                \ && v <= 6) return '#4caf50';\n  if (v > 6 && v <= 8) return '#ff9800';\n\
                \  return '#f44336';\n]]]\n"
            - box-shadow: "[[[ \n  let v = parseFloat(entity.state);\n  let c = (v\
                \ >= 1 && v <= 6) ? '#4caf50' : (v > 6 && v <= 8) ? '#ff9800' : '#f44336';\n\
                \  return '0 0 6px ' + c;\n]]]\n"
      graph:
        card:
          type: custom:mini-graph-card
          entities:
          - sensor.livebox_w7_fiber_power_tx
          line_color: "[[[ \n  let v = parseFloat(states['sensor.livebox_w7_fiber_power_tx'].state);\n\
            \  if (v >= 1 && v <= 6) return '#4caf50';\n  if (v > 6 && v <= 8) return\
            \ '#ff9800';\n  return '#f44336';\n]]]\n"
          line_width: 4
          show:
            name: false
            icon: false
            state: false
          card_mod:
            style: 'ha-card { background: none; border: none; }'
- type: grid
  columns: 2
  square: false
  cards:
  - type: custom:button-card
    entity: sensor.livebox_w7_fiber_rx
    name: Total Reçu
    show_state: true
    styles:
      card:
      - background: rgba(255, 255, 255, 0.05)
      - border-radius: 15px
      - border: 1px solid rgba(255,255,255,0.05)
      - height: 75px
      state:
      - font-size: 15px
      - font-weight: bold
      - color: '#4caf50'
      name:
      - font-size: 11px
      - opacity: 0.7
  - type: custom:button-card
    entity: sensor.livebox_w7_fiber_tx
    name: Total Envoyé
    show_state: true
    styles:
      card:
      - background: rgba(255, 255, 255, 0.05)
      - border-radius: 15px
      - border: 1px solid rgba(255,255,255,0.05)
      - height: 75px
      state:
      - font-size: 15px
      - font-weight: bold
      - color: '#ff9800'
      name:
      - font-size: 11px
      - opacity: 0.7
- type: entities
  title: Maintenance
  entities:
  - entity: update.orange_livebox_routeur_update
    name: Mise à jour Firmware
  - entity: button.livebox_w7_livebox_restart
    name: Redémarrer la Box
    icon: mdi:restart
  card_mod:
    style: "ha-card {\n  background: rgba(255, 255, 255, 0.05) !important;\n  border-radius:\
      \ 20px !important;\n  border: 1px solid rgba(255,255,255,0.1) !important;\n\
      }\n"
