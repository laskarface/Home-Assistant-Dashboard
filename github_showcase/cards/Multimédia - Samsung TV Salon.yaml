# CARD: Multim√©dia - Samsung TV Salon
# PREREQUISITES:
#   ENTITIES:
#     - media_player.samsung_tv_salon
#     - media_player.toggle
#   HACS / UI COMPONENTS:
#     - button-card
#----------------------------------------

type: custom:button-card
entity: media_player.samsung_tv_salon
name: Samsung TV Salon
show_name: true
show_icon: false
aspect_ratio: 16/9
styles:
  card:
  - padding: 0
  - border-radius: 24px
  - border: 1px solid rgba(255,255,255,0.1)
  - background: rgba(20, 27, 38, 0.6)
  - backdrop-filter: blur(20px)
  - -webkit-backdrop-filter: blur(20px)
  - box-shadow: 0 8px 32px rgba(0,0,0,0.3)
  - overflow: hidden
  grid:
  - grid-template-areas: '"i" "n" "controls"'
  - grid-template-columns: 1fr
  - grid-template-rows: 1fr auto auto
  custom_fields:
    bg:
    - position: absolute
    - inset: 0
    - z-index: 0
    overlay:
    - position: absolute
    - inset: 0
    - z-index: 1
    - background: linear-gradient(0deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.2)
        100%)
    controls:
    - align-self: end
    - padding: 16px
    - z-index: 2
    n:
    - position: absolute
    - top: 16px
    - left: 20px
    - z-index: 2
    - font-size: 14px
    - font-weight: 700
    - color: white
    - text-shadow: 0 2px 4px rgba(0,0,0,0.8)
custom_fields:
  bg: "[[[\n  const samsung = entity;\n  const pic = samsung?.attributes?.entity_picture;\n\
    \  \n  if (samsung?.state !== 'off' && samsung?.state !== 'unavailable') {\n \
    \   if (pic) {\n      return `<div style=\"width:100%; height:100%; background:\
    \ url('${pic}') center/cover no-repeat; transition: background 0.5s ease;\"></div>`;\n\
    \    }\n    
    \ `\n      <div style=\"width:100%; height:100%; background: linear-gradient(135deg,\
    \ #1a2a6c 0%, #b21f1f 100%); opacity: 0.15;\"></div>\n      <div style=\"position:absolute;\
    \ inset:0; display:flex; align-items:center; justify-content:center;\">\n    \
    \    <ha-icon icon=\"mdi:television-play\" style=\"width:40px; color:rgba(255,255,255,0.2);\"\
    ></ha-icon>\n      </div>\n    `;\n  }\n  return `<div style=\"width:100%; height:100%;\
    \ background: #050505; display:flex; align-items:center; justify-content:center;\
    \ color:#333; font-weight:900; letter-spacing:2px;\">STANDBY</div>`;\n]]]\n"
  controls: "[[[\n  const vRaw = entity?.attributes?.volume_level;\n  const vol =\
    \ (vRaw !== undefined) ? Math.round(vRaw * 100) : '--';\n  const on = entity?.state\
    \ !== 'off' && entity?.state !== 'unavailable';\n  return `\n    <div style=\"\
    display:flex; justify-content:space-between; align-items:center;\">\n      <div\
    \ style=\"color:white; font-size:12px; font-weight:800; opacity:0.9;\">VOL ${vol}%</div>\n\
    \      <div style=\"display:flex; gap:18px;\">\n         <ha-icon icon=\"mdi:power\"\
    \ style=\"width:20px; color:${on ? '#00AAFF' : 'rgba(255,255,255,0.3)'}; cursor:pointer;\"\
    ></ha-icon>\n         <ha-icon icon=\"mdi:volume-minus\" style=\"width:18px; color:rgba(255,255,255,0.6);\"\
    ></ha-icon>\n         <ha-icon icon=\"mdi:volume-plus\" style=\"width:18px; color:rgba(255,255,255,0.6);\"\
    ></ha-icon>\n      </div>\n    </div>\n  `;\n]]]\n"
triggers_update:
- media_player.samsung_tv_salon
tap_action:
  action: more-info
hold_action:
  action: call-service
  service: media_player.toggle
  target:
    entity_id: media_player.samsung_tv_salon
