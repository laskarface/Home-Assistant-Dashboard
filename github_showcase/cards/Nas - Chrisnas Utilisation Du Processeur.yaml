type: custom:button-card
name: "[[[\n  const cpu = states['sensor.chrisnas_utilisation_du_processeur'].state;\n\
  \  const ram = states['sensor.chrisnas_utilisation_de_la_memoire'].state;\n  return\
  \ `CPU ${Math.round(cpu)}% & RAM ${Math.round(ram)}%`;\n]]]\n"
triggers_update:
- sensor.chrisnas_utilisation_du_processeur
- sensor.chrisnas_utilisation_de_la_memoire
icon: mdi:cpu-64-bit
styles:
  card:
  - background: rgba(20, 27, 38, 0.6)
  - backdrop-filter: blur(20px)
  - border-radius: 20px
  - border: 1px solid rgba(255, 255, 255, 0.1)
  - padding: 12px 15px
  grid:
  - grid-template-areas: '"i n" "graph graph" "footer footer"'
  - grid-template-columns: 35px 1fr
  - align-items: center
  icon:
  - color: '#ff00ff'
  - width: 22px
  - filter: drop-shadow(0 0 5px
  name:
  - font-weight: 900
  - font-size: 14px
  - color: '#ffffff'
  - text-transform: uppercase
  - letter-spacing: 1px
  - justify-self: start
  custom_fields:
    graph:
    - margin: 5px 0
    footer:
    - border-top: 1px solid rgba(255, 255, 255, 0.1)
    - padding-top: 8px
    - font-size: 11px
    - color: rgba(255, 255, 255, 0.6)
    - font-weight: bold
custom_fields:
  graph:
    card:
      type: custom:mini-graph-card
      entities:
      - entity: sensor.chrisnas_utilisation_du_processeur
        name: CPU
        color: '#00ccff'
      - entity: sensor.chrisnas_utilisation_de_la_memoire
        name: RAM
        color: '#ff00ff'
      line_width: 4
      hours_to_show: 6
      points_per_hour: 2
      font_size: 60
      show:
        fill: fade
        name: false
        state: true
        legend: true
      style: "ha-card { \n  background: transparent !important; \n  border: none !important;\
        \ \n  box-shadow: none !important;\n  margin-top: -10px;\n}\n"
  footer: "[[[\n  const cpu_temp = states['sensor.chrisnas_temperature_du_processeur'].state;\n\
    \  const mem_used = states['sensor.chrisnas_memoire_utilisee'].state;\n  const\
    \ mem_total = states['sensor.chrisnas_memory_size'].state;\n  const t_color =\
    \ cpu_temp > 55 ? '#ff1111' : '#00ff88';\n  return `\n    <div style=\"display:flex;\
    \ justify-content:space-between; align-items:center;\">\n      <span>TEMP CPU:\
    \ <span style=\"color:${t_color}\">${cpu_temp}Â°C</span></span>\n      <span>RAM:\
    \ <span style=\"color:#ffffff\">${Math.round(mem_used)} / ${Math.round(mem_total)}\
    \ GiB</span></span>\n    </div>\n  `;\n]]]\n"
