type: conditional
conditions:
- entity: binary_sensor.commute_workday
  state: 'on'
card:
  type: custom:button-card
  name: "[[[\n  const flip = states['input_boolean.commute_card_flip']?.state ===\
    \ 'on';\n  const is_pm = new Date().getHours() >= 12;\n  const is_home = (is_pm\
    \ && !flip) || (!is_pm && flip);\n  return is_home ? '\U0001F3E0 RETOUR MAISON'\
    \ : '\U0001F3E2 ALLER TRAVAIL';\n]]]\n"
  icon: mdi:swap-horizontal
  styles:
    card:
    - background: "[[[\n  const flip = states['input_boolean.commute_card_flip']?.state\
        \ === 'on';\n  const is_pm = new Date().getHours() >= 12;\n  const is_home\
        \ = (is_pm && !flip) || (!is_pm && flip);\n  return is_home ? 'rgba(255, 165,\
        \ 0, 0.15)' : 'rgba(61, 219, 184, 0.15)';\n]]]\n"
    - backdrop-filter: blur(25px)
    - -webkit-backdrop-filter: blur(25px)
    - border-radius: 20px
    - border: "[[[\n  const flip = states['input_boolean.commute_card_flip']?.state\
        \ === 'on';\n  const is_pm = new Date().getHours() >= 12;\n  const is_home\
        \ = (is_pm && !flip) || (!is_pm && flip);\n  return is_home ? '1px solid rgba(255,\
        \ 165, 0, 0.5)' : '1px solid rgba(61, 219, 184, 0.5)';\n]]]\n"
    - padding: 8px 15px
    - box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4)
    - transition: all 0.4s ease
    grid:
    - grid-template-areas: '"i n"'
    - grid-template-columns: 30px auto
    name:
    - font-size: 14px
    - font-weight: 900
    - color: white
    - letter-spacing: 2px
    - opacity: 0.9
    - justify-self: center
    icon:
    - width: 22px
    - color: '#FFA500'
  tap_action:
    action: call-service
    service: input_boolean.toggle
    service_data:
      entity_id: input_boolean.commute_card_flip
