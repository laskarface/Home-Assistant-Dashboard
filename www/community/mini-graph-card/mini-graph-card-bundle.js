(function(){"use strict";function a(){var b=S([""]);return a=function(){return b},b}function b(){var a=S(["\n          <div class=\"info__item\">\n            <span class=\"info__item__type\">","</span>\n            <span class=\"info__item__value\">\n              "," ","\n            </span>\n            <span class=\"info__item__time\">\n              ","\n            </span>\n          </div>\n        "]);return b=function(){return a},a}function c(){var a=S(["\n      <div class=\"info flex\">\n        ","\n      </div>\n    "]);return c=function(){return a},a}function d(){var a=S(["\n      <div class=\"graph__labels --secondary flex\">\n        <span class=\"label--max\">","</span>\n        <span class=\"label--min\">","</span>\n      </div>\n    "]);return d=function(){return a},a}function e(){var a=S(["\n      <div class=\"graph__labels --primary flex\">\n        <span class=\"label--max\">","</span>\n        <span class=\"label--min\">","</span>\n      </div>\n    "]);return e=function(){return a},a}function f(){var a=S(["\n      <svg width='100%' height="," viewBox='0 0 500 ","'\n        @click=",">\n        <g>\n          <defs>\n            ","\n          </defs>\n          ","\n          ","\n          ","\n          ","\n          ","\n        </g>\n        ","\n      </svg>"]);return f=function(){return a},a}function g(){var a=S(["<g class='bars' ?anim=",">","</g>"]);return g=function(){return a},a}function h(){var a=S(["\n        <rect class='bar' x="," y=","\n          height="," width="," fill=","\n          @mouseover=","\n          @mouseout=",">\n          ","\n        </rect>"]);return h=function(){return a},a}function j(){var a=S(["\n          <animate attributeName='y' from="," to="," dur='1s' fill='remove'\n            calcMode='spline' keyTimes='0; 1' keySplines='0.215 0.61 0.355 1'>\n          </animate>"]);return j=function(){return a},a}function k(){var a=S(["\n      <rect class='fill--rect'\n        ?inactive=","\n        id=","\n        fill="," height=\"100%\" width=\"100%\"\n        mask=","\n      />"]);return k=function(){return a},a}function l(){var a=S(["\n      <rect class='line--rect'\n        ?inactive=","\n        id=","\n        fill="," height=\"100%\" width=\"100%\"\n        mask=","\n      />"]);return l=function(){return a},a}function m(){var a=S(["",""]);return m=function(){return a},a}function n(){var a=S(["\n            <stop stop-color="," offset="," />\n          "]);return n=function(){return a},a}function o(){var a=S(["\n        <linearGradient id="," gradientTransform=\"rotate(90)\">\n          ","\n        </linearGradient>"]);return o=function(){return a},a}function p(){var a=S(["\n      <g class='line--points'\n        ?tooltip=","\n        ?inactive=","\n        ?init=","\n        anim=","\n        style=\"animation-delay: ","\"\n        fill=","\n        stroke=","\n        stroke-width=",">\n        ","\n      </g>"]);return p=function(){return a},a}function q(){var a=S(["\n      <circle\n        class='line--point'\n        ?inactive=","\n        style=","\n        stroke=","\n        fill=","\n        cx="," cy="," r=","\n        @mouseover=","\n        @mouseout=","\n      />\n    "]);return q=function(){return a},a}function r(){var a=S(["\n      <mask id=",">\n        ","\n      </mask>\n    "]);return r=function(){return a},a}function s(){var a=S(["\n      <path\n        class='line'\n        .id=","\n        anim="," ?init=","\n        style=\"animation-delay: ","\"\n        fill='none'\n        stroke-dasharray="," stroke-dashoffset=","\n        stroke=","\n        stroke-width=","\n        d=","\n      />"]);return s=function(){return a},a}function t(){var a=S(["\n      <defs>\n        <linearGradient id="," x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop stop-color='white' offset='0%' stop-opacity='1'/>\n          <stop stop-color='white' offset='100%' stop-opacity='.15'/>\n        </linearGradient>\n        <mask id=",">\n          <rect width=\"100%\" height=\"100%\" fill="," />\n        </mask>\n      </defs>\n      <mask id=",">\n        <path class='fill'\n          type=","\n          .id="," anim="," ?init=","\n          style=\"animation-delay: ","\"\n          fill='white'\n          mask=","\n          d=","\n        />\n      </mask>"]);return t=function(){return a},a}function u(){var a=S(["\n      <svg width='10' height='10'>\n        <rect width='10' height='10' fill="," />\n      </svg>\n    "]);return u=function(){return a},a}function v(){var a=S(["\n            <div class=\"graph__legend__item\"\n              @click=","\n              @mouseenter=","\n              @mouseleave=",">\n              ","\n              <span class=\"ellipsis\">","</span>\n            </div>\n          "]);return v=function(){return a},a}function w(){var a=S(["\n      <div class=\"graph__legend\">\n        ","\n      </div>\n    "]);return w=function(){return a},a}function x(){var a=S(["<ha-spinner aria-label=\"Loading\" size=\"small\"></ha-spinner>"]);return x=function(){return a},a}function y(){var a=S(["\n            <div class=\"graph__container\">\n              ","\n              ","\n              <div class=\"graph__container__svg\">\n                ","\n              </div>\n            </div>\n            ","\n        "]);return y=function(){return a},a}function z(){var a=S(["\n      <div class=\"graph\">\n        ","\n      </div>"]);return z=function(){return a},a}function A(){var a=S(["\n          <span>","</span> -\n          <span>","</span>\n        "]);return A=function(){return a},a}function B(){var a=S(["\n          <span class=\"tooltip--label\">","</span>\n        "]);return B=function(){return a},a}function C(){var a=S(["\n      <div class=\"state__time\">\n        ","\n      </div>\n    "]);return C=function(){return a},a}function D(){var a=S(["\n        <div\n          class=\"state ","\"\n          @click=","\n          style=",">\n          ","\n          <span class=\"state__value ellipsis\">\n            ","\n          </span>\n          <span class=\"state__uom ellipsis\">\n            ","\n          </span>\n          ","\n        </div>\n      "]);return D=function(){return a},a}function E(){var a=S(["\n        <div class=\"states flex\" loc=",">\n          ","\n          <div class=\"states--secondary\">","</div>\n          ","\n        </div>\n      "]);return E=function(){return a},a}function F(){var a=S(["\n      <div class=\"name flex\">\n        <span class=\"ellipsis\" style=",">","</span>\n      </div>\n    "]);return F=function(){return a},a}function G(){var a=S(["\n      <div class=\"icon\" loc=","\n        style=",">\n        <ha-icon .icon=","></ha-icon>\n      </div>\n    "]);return G=function(){return a},a}function H(){var a=S(["\n        <div class=\"icon\">\n          <img src=\"","\" height=\"25\"/>\n        </div>\n      "]);return H=function(){return a},a}function I(){var a=S(["\n          <div class=\"header flex\" loc="," style=\"font-size: ","px;\">\n            "," ","\n          </div>\n        "]);return I=function(){return a},a}function J(){var a=S([""]);return J=function(){return a},a}function K(){var a=S(["\n          <div>\n            Entity not available: ","\n          </div>\n        "]);return K=function(){return a},a}function L(){var a=S(["\n      <hui-warning>\n        <div>mini-graph-card</div>\n        ","\n      </hui-warning>\n    "]);return L=function(){return a},a}function M(){var a=S(["\n      <ha-card\n        class=\"flex\"\n        ?group=","\n        ?fill=","\n        ?points=","\n        ?labels=","\n        ?labels-secondary=","\n        ?gradient=","\n        ?hover=","\n        style=\"font-size: ","px;\"\n        @click=","\n      >\n        "," "," "," ","\n      </ha-card>\n    "]);return M=function(){return a},a}function N(){var a=S([""]);return N=function(){return a},a}function O(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function P(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?O(Object(b),!0).forEach(function(c){Q(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):O(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function Q(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function R(){var a=S(["\n  :host {\n    display: flex;\n    flex-direction: column;\n  }\n  ha-card {\n    flex-direction: column;\n    flex: 1;\n    padding: 16px 0 0 0;\n    position: relative;\n    overflow: hidden;\n  }\n  ha-card > div {\n    padding: 0px 16px 16px 16px;\n  }\n  ha-card > div:last-child {\n    padding-bottom: 0;\n  }\n  ha-card .graph {\n    padding: 0;\n    order: 10;\n  }\n  ha-card[points] .line--points,\n  ha-card[labels] .graph__labels.--primary {\n    opacity: 0;\n    transition: opacity .25s;\n    animation: none;\n  }\n  ha-card[labels-secondary] .graph__labels.--secondary {\n    opacity: 0;\n    transition: opacity .25s;\n    animation: none;\n  }\n  ha-card[points]:hover .line--points,\n  ha-card:hover .graph__labels.--primary,\n  ha-card:hover .graph__labels.--secondary {\n      opacity: 1;\n  }\n  ha-card[fill] path {\n    stroke-linecap: initial;\n    stroke-linejoin: initial;\n  }\n  ha-card .graph__legend {\n    order: -1;\n    padding: 0 16px 8px 16px;\n  }\n  ha-card[group] {\n    box-shadow: none;\n    border: none;\n    padding: 0;\n  }\n  ha-card[group] > div {\n    padding-left: 0;\n    padding-right: 0;\n  }\n  ha-card[group] .graph__legend {\n    padding-left: 0;\n    padding-right: 0;\n  }\n  ha-card[hover] {\n    cursor: pointer;\n  }\n  ha-spinner {\n    margin: 4px auto;\n  }\n  .flex {\n    display: flex;\n    display: -webkit-flex;\n    min-width: 0;\n  }\n  .header {\n    justify-content: space-between;\n  }\n  .header[loc=\"center\"] {\n    justify-content: space-around;\n  }\n  .header[loc=\"left\"] {\n    align-self: flex-start;\n  }\n  .header[loc=\"right\"] {\n    align-self: flex-end;\n  }\n  .name {\n    align-items: center;\n    min-width: 0;\n    letter-spacing: var(--mcg-title-letter-spacing, normal);\n  }\n  .name > span {\n    font-size: 1.2em;\n    font-weight: var(--mcg-title-font-weight, 500);\n    max-height: 1.4em;\n    min-height: 1.4em;\n    opacity: .65;\n  }\n  .icon {\n    color: var(--state-icon-color, #44739e);\n    display: inline-block;\n    flex: 0 0 1.7em;\n    text-align: center;\n  }\n  .icon > ha-icon {\n    height: 1.7em;\n    width: 1.7em;\n  }\n  .icon[loc=\"left\"] {\n    order: -1;\n    margin-right: .6em;\n    margin-left: 0;\n  }\n  .icon[loc=\"state\"] {\n    align-self: center;\n  }\n  .states {\n    align-items: flex-start;\n    font-weight: 300;\n    justify-content: space-between;\n    flex-wrap: nowrap;\n  }\n  .states .icon {\n    align-self: center;\n    margin-left: 0;\n  }\n  .states[loc=\"center\"] {\n    justify-content: space-evenly;\n  }\n  .states[loc=\"right\"] > .state {\n    margin-left: auto;\n    order: 2;\n  }\n  .states[loc=\"center\"] .states--secondary,\n  .states[loc=\"right\"] .states--secondary {\n    margin-left: 0;\n  }\n  .states[loc=\"center\"] .states--secondary {\n    align-items: center;\n  }\n  .states[loc=\"right\"] .states--secondary {\n    align-items: flex-start;\n  }\n  .states[loc=\"center\"] .state__time {\n    left: 50%;\n    transform: translateX(-50%);\n  }\n  .states > .icon > ha-icon {\n    height: 2em !important;\n    width: 2em !important;\n  }\n  .states--secondary {\n    display: flex;\n    flex-flow: column;\n    flex-wrap: wrap;\n    align-items: flex-end;\n    margin-left: 1rem;\n    min-width: 0;\n    margin-left: 1.4em;\n  }\n  .states--secondary:empty {\n    display: none;\n  }\n  .state {\n    position: relative;\n    display: flex;\n    flex-wrap: nowrap;\n    max-width: 100%;\n    min-width: 0;\n  }\n  .state > svg {\n    align-self: center;\n    border-radius: 100%;\n  }\n  .state--small {\n    font-size: .6em;\n    margin-bottom: .6rem;\n    flex-wrap: nowrap;\n  }\n  .state--small > svg {\n    position: absolute;\n    left: -1.6em;\n    align-self: center;\n    height: 1em;\n    width: 1em;\n    border-radius: 100%;\n    margin-right: 1em;\n  }\n  .state--small:last-child {\n    margin-bottom: 0;\n  }\n  .states--secondary > :only-child {\n    font-size: 1em;\n    margin-bottom: 0;\n  }\n  .states--secondary > :only-child svg {\n    display: none;\n  }\n  .state__value {\n    display: inline-block;\n    font-size: 2.4em;\n    margin-right: .25rem;\n    line-height: 1.2em;\n  }\n  .state__uom {\n    flex: 1;\n    align-self: flex-end;\n    display: inline-block;\n    font-size: 1.4em;\n    font-weight: 400;\n    line-height: 1.6em;\n    margin-top: .1em;\n    opacity: .6;\n    vertical-align: bottom;\n  }\n  .state--small .state__uom {\n    flex: 1;\n  }\n  .state__time {\n    font-size: .95rem;\n    font-weight: 500;\n    bottom: -1.1rem;\n    left: 0;\n    opacity: .75;\n    position: absolute;\n    white-space: nowrap;\n    animation: fade .15s cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  .states[loc=\"right\"] .state__time {\n    left: initial;\n    right: 0;\n  }\n  .graph {\n    align-self: flex-end;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    margin-top: auto;\n    width: 100%;\n  }\n  .graph__container {\n    display: flex;\n    flex-direction: row;\n    position: relative;\n  }\n  .graph__container__svg {\n    cursor: default;\n    flex: 1;\n  }\n  svg {\n    overflow: hidden;\n    display: block;\n  }\n  path {\n    stroke-linecap: round;\n    stroke-linejoin: round;\n  }\n  .fill[anim=\"false\"] {\n    animation: reveal .25s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n  }\n  .fill[anim=\"false\"][type=\"fade\"] {\n    animation: reveal-2 .25s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n  }\n  .line--points[anim=\"false\"],\n  .line[anim=\"false\"] {\n    animation: pop .25s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n  }\n  .line--points[inactive],\n  .line--rect[inactive],\n  .fill--rect[inactive] {\n    opacity: 0 !important;\n    animation: none !important;\n    transition: all .15s !important;\n  }\n  .line--points[tooltip] .line--point[inactive] {\n    opacity: 0;\n  }\n  .line--point {\n    cursor: pointer;\n    fill: var(--primary-background-color, white);\n    stroke-width: inherit;\n  }\n  .line--point:hover {\n    fill: var(--mcg-hover, inherit) !important;\n  }\n  .bars {\n    animation: pop .25s cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  .bars[anim] {\n    animation: bars .5s cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  .bar {\n    transition: opacity .25s cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  .bar:hover {\n    opacity: .5;\n    cursor: pointer;\n  }\n  ha-card[gradient] .line--point:hover {\n    fill: var(--primary-text-color, white);\n  }\n  path,\n  .line--points,\n  .fill {\n    opacity: 0;\n  }\n  .line--points[anim=\"true\"][init] {\n    animation: pop .5s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n  }\n  .fill[anim=\"true\"][init] {\n    animation: reveal .5s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n  }\n  .fill[anim=\"true\"][init][type=\"fade\"] {\n    animation: reveal-2 .5s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n  }\n  .line[anim=\"true\"][init] {\n    animation: dash 1s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n  }\n  .graph__labels.--secondary {\n    right: 0;\n    margin-right: 0px;\n    align-items: flex-end;\n  }\n  .graph__labels {\n    align-items: flex-start;\n    flex-direction: column;\n    font-size: calc(.15em + 8.5px);\n    font-weight: 400;\n    justify-content: space-between;\n    margin-right: 10px;\n    padding: .6em;\n    position: absolute;\n    pointer-events: none;\n    top: 0; bottom: 0;\n    opacity: .75;\n  }\n  .graph__labels > span {\n    cursor: pointer;\n    background: var(--primary-background-color, white);\n    border-radius: 1em;\n    padding: .2em .6em;\n    box-shadow: 0 1px 3px rgba(0,0,0,.12), 0 1px 2px rgba(0,0,0,.24);\n  }\n  .graph__legend {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    padding-top: 16px;\n    flex-wrap: wrap;\n  }\n  .graph__legend__item {\n    cursor: pointer;\n    display: flex;\n    min-width: 0;\n    margin: .4em;\n    align-items: center\n  }\n  .graph__legend__item span {\n    opacity: .75;\n    margin-left: .4em;\n  }\n  .graph__legend__item svg {\n    border-radius: 100%;\n    min-width: 10px;\n  }\n  .info {\n    justify-content: space-between;\n    align-items: middle;\n  }\n  .info__item {\n    display: flex;\n    flex-flow: column;\n    text-align: center;\n  }\n  .info__item:last-child {\n    align-items: flex-end;\n    text-align: right;\n  }\n  .info__item:first-child {\n    align-items: flex-start;\n    text-align: left;\n  }\n  .info__item__type {\n    text-transform: capitalize;\n    font-weight: 500;\n    opacity: .9;\n  }\n  .info__item__time,\n  .info__item__value {\n    opacity: .75;\n  }\n  .ellipsis {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  @keyframes fade {\n    0% { opacity: 0; }\n  }\n  @keyframes reveal {\n    0% { opacity: 0; }\n    100% { opacity: .15; }\n  }\n  @keyframes reveal-2 {\n    0% { opacity: 0; }\n    100% { opacity: .4; }\n  }\n  @keyframes pop {\n    0% { opacity: 0; }\n    100% { opacity: 1; }\n  }\n  @keyframes bars {\n    0% { opacity: 0; }\n    50% { opacity: 0; }\n    100% { opacity: 1; }\n  }\n  @keyframes dash {\n    0% {\n      opacity: 0;\n    }\n    25% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 1;\n      stroke-dashoffset: 0;\n    }\n  }"]);return R=function(){return a},a}function S(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function T(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function U(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){T(h,d,e,f,g,"next",a)}function g(a){T(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function W(a){return $(a)||Z(a)||Y(a)||X()}function X(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y(a,b){if(a){if("string"==typeof a)return _(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_(a,b):void 0}}function Z(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function $(a){if(Array.isArray(a))return _(a)}function _(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}(function(a){"function"==typeof define&&define.amd?define(a):a()})(function(){var tb=Number.isNaN,ub=Math.log10,vb=Math.ceil,wb=Math.PI,xb=String.fromCharCode,yb=Math.floor,zb=Math.abs,Ab=Math.sin,Bb=Math.cos,Cb=Math.sqrt,Db=Math.atan2,Eb=Math.pow,Fb=Math.round,Gb=Math.max,Hb=Math.min;function i(a,b){for(var{element:{content:d},parts:c}=a,e=document.createTreeWalker(d,133,null,!1),f=Vb(c),g=c[f],h=-1,i=0,j=[],k=null;e.nextNode();){h++;var l=e.currentNode;for(l.previousSibling===k&&(k=null),b.has(l)&&(j.push(l),null===k&&(k=l)),null!==k&&i++;g!==void 0&&g.index===h;)g.index=null===k?g.index-i:-1,f=Vb(c,f),g=c[f]}j.forEach(a=>a.parentNode.removeChild(a))}function S(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,{element:{content:e},parts:d}=a;if(null===c||void 0===c)return void e.appendChild(b);for(var f=document.createTreeWalker(e,133,null,!1),g=Vb(d),h=0,i=-1;f.nextNode();){i++;var j=f.currentNode;for(j===c&&(h=Ub(b),c.parentNode.insertBefore(b,c));-1!==g&&d[g].index===i;){if(0<h){for(;-1!==g;)d[g].index+=h,g=Vb(d,g);return}g=Vb(d,g)}}}function T(a){var b=oc.get(a.type);void 0===b&&(b={stringsArray:new WeakMap,keyString:new Map},oc.set(a.type,b));var c=b.stringsArray.get(a.strings);if(void 0!==c)return c;var d=a.strings.join(Lb);return c=b.keyString.get(d),void 0===c&&(c=new Pb(a,a.getTemplateElement()),b.keyString.set(d,c)),b.stringsArray.set(a.strings,c),c}function Z(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(f){if("TypeError"!==f.name)throw f;for(var c="undefined"==typeof BlobBuilder?"undefined"==typeof MSBlobBuilder?"undefined"==typeof MozBlobBuilder?WebKitBlobBuilder:MozBlobBuilder:MSBlobBuilder:BlobBuilder,d=new c,e=0;e<a.length;e+=1)d.append(a[e]);return d.getBlob(b.type)}}function $(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function _(a,b,c){"function"==typeof b&&a.then(b),"function"==typeof c&&a.catch(c)}function aa(a){return"string"!=typeof a&&(console.warn("".concat(a," used as a key, but it is not a string.")),a+=""),a}function ba(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function ca(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;e<b;e++)d[e]=a.charCodeAt(e);return c}function da(a){return new Vc(function(b){var c=a.transaction("local-forage-detect-blob-support","readwrite"),d=Z([""]);c.objectStore("local-forage-detect-blob-support").put(d,"key"),c.onabort=function(a){a.preventDefault(),a.stopPropagation(),b(!1)},c.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),c=navigator.userAgent.match(/Edge\//);b(c||!a||43<=parseInt(a[1],10))}}).catch(function(){return!1})}function ea(a){return"boolean"==typeof Uc?Vc.resolve(Uc):da(a).then(function(a){return Uc=a,Uc})}function fa(a){var b=Wc[a.name],c={};c.promise=new Vc(function(a,b){c.resolve=a,c.reject=b}),b.deferredOperations.push(c),b.dbReady=b.dbReady?b.dbReady.then(function(){return c.promise}):c.promise}function ga(a){var b=Wc[a.name],c=b.deferredOperations.pop();if(c)return c.resolve(),c.promise}function ha(a,b){var c=Wc[a.name],d=c.deferredOperations.pop();if(d)return d.reject(b),d.promise}function ia(a,b){return new Vc(function(c,d){if(Wc[a.name]=Wc[a.name]||sa(),a.db)if(b)fa(a),a.db.close();else return c(a.db);var e=[a.name];b&&e.push(a.version);var f=Tc.open.apply(Tc,e);b&&(f.onupgradeneeded=function(b){var c=f.result;try{c.createObjectStore(a.storeName),1>=b.oldVersion&&c.createObjectStore("local-forage-detect-blob-support")}catch(c){if("ConstraintError"===c.name)console.warn("The database \""+a.name+"\" has been upgraded from version "+b.oldVersion+" to version "+b.newVersion+", but the storage \""+a.storeName+"\" already exists.");else throw c}}),f.onerror=function(a){a.preventDefault(),d(f.error)},f.onsuccess=function(){c(f.result),ga(a)}})}function ja(a){return ia(a,!1)}function ka(a){return ia(a,!0)}function la(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn("The database \""+a.name+"\" can't be downgraded from version "+a.db.version+" to version "+a.version+"."),a.version=a.db.version),e||c){if(c){var f=a.db.version+1;f>a.version&&(a.version=f)}return!0}return!1}function ma(a){return new Vc(function(b,c){var d=new FileReader;d.onerror=c,d.onloadend=function(c){var d=btoa(c.target.result||"");b({__local_forage_encoded_blob:!0,data:d,type:a.type})},d.readAsBinaryString(a)})}function na(a){var b=ca(atob(a.data));return Z([b],{type:a.type})}function oa(a){return a&&a.__local_forage_encoded_blob}function pa(a){var b=this,c=b._initReady().then(function(){var a=Wc[b._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return _(c,a,a),c}function qa(a){fa(a);for(var b,c=Wc[a.name],d=c.forages,e=0;e<d.length;e++)b=d[e],b._dbInfo.db&&(b._dbInfo.db.close(),b._dbInfo.db=null);return a.db=null,ja(a).then(b=>(a.db=b,la(a)?ka(a):b)).then(b=>{a.db=c.db=b;for(var e=0;e<d.length;e++)d[e]._dbInfo.db=b}).catch(b=>{throw ha(a,b),b})}function ra(a,b,c,d){d===void 0&&(d=1);try{var e=a.db.transaction(a.storeName,b);c(null,e)}catch(e){if(0<d&&(!a.db||"InvalidStateError"===e.name||"NotFoundError"===e.name))return Vc.resolve().then(()=>{if(!a.db||"NotFoundError"===e.name&&!a.db.objectStoreNames.contains(a.storeName)&&a.version<=a.db.version)return a.db&&(a.version=a.db.version+1),ka(a)}).then(()=>qa(a).then(function(){ra(a,b,c,d-1)})).catch(c);c(e)}}function sa(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ta(a){var b,c,d,e,f,g=.75*a.length,h=a.length,j=0;"="===a[a.length-1]&&(g--,"="===a[a.length-2]&&g--);var k=new ArrayBuffer(g),l=new Uint8Array(k);for(b=0;b<h;b+=4)c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b]),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b+1]),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b+2]),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b+3]),l[j++]=c<<2|d>>4,l[j++]=(15&d)<<4|e>>2,l[j++]=(3&e)<<6|63&f;return k}function ua(a){var b,c=new Uint8Array(a),d="";for(b=0;b<c.length;b+=3)d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c[b]>>2],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&c[b])<<4|c[b+1]>>4],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&c[b+1])<<2|c[b+2]>>6],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&c[b+2]];return 2==c.length%3?d=d.substring(0,d.length-1)+"=":1==c.length%3&&(d=d.substring(0,d.length-2)+"=="),d}function va(a,b,c,d){a.executeSql("CREATE TABLE IF NOT EXISTS ".concat(b.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],c,d)}function wa(a,b,c,d,e,f){a.executeSql(c,d,e,function(a,g){g.code===g.SYNTAX_ERR?a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[b.storeName],function(a,h){h.rows.length?f(a,g):va(a,b,function(){a.executeSql(c,d,e,f)},f)},f):f(a,g)},f)}function xa(a,b,c,d){var e=this;a=aa(a);var f=new Vc(function(f,g){e.ready().then(function(){void 0===b&&(b=null);var h=b,i=e._dbInfo;i.serializer.serialize(b,function(b,j){j?g(j):i.db.transaction(function(c){wa(c,i,"INSERT OR REPLACE INTO ".concat(i.storeName," ")+"(key, value) VALUES (?, ?)",[a,b],function(){f(h)},function(a,b){g(b)})},function(b){if(b.code===b.QUOTA_ERR){if(0<d)return void f(xa.apply(e,[a,h,c,d-1]));g(b)}})})}).catch(g)});return $(f,c),f}function ya(a){return new Vc(function(b,c){a.transaction(function(d){d.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,d){for(var e=[],f=0;f<d.rows.length;f++)e.push(d.rows.item(f).name);b({db:a,storeNames:e})},function(a,b){c(b)})},function(a){c(a)})})}function za(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(a){return!1}}function Aa(a,b){var c=a.name+"/";return a.storeName!==b.storeName&&(c+=a.storeName+"/"),c}function Ba(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(a){return!0}}function Ca(){return!Ba()||0<localStorage.length}function Da(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function Ea(){for(var a,b=1;b<arguments.length;b++)if(a=arguments[b],a)for(var c in a)a.hasOwnProperty(c)&&(arguments[0][c]=gd(a[c])?a[c].slice():a[c]);return arguments[0]}function Fa(a,b){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d].substr(0,b));return c}function Ga(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(var d,e=0,f=b;e<f.length;e++)for(var g in d=f[e],d)a[g]=d[g];return a}function Ha(a,b,c){if(void 0===c&&(c={}),"string"!=typeof b)throw new Error("Invalid format in fecha parse");if(b=Md[b]||b,1e3<a.length)return null;var d=new Date,e={year:d.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},f=[],g=[],h=b.replace(ud,function(a,b){return g.push(Dd(b)),"@@@"}),j={},k={};h=Dd(h).replace(qd,function(a){var b=Ld[a],c=b[0],d=b[1],e=b[3];if(j[c])throw new Error("Invalid format. "+c+" specified twice in format");return j[c]=!0,e&&(k[e]=!0),f.push(b),"("+d+")"}),Object.keys(k).forEach(function(a){if(!j[a])throw new Error("Invalid format. "+a+" is required in specified format")}),h=h.replace(/@@@/g,function(){return g.shift()});var l=a.match(new RegExp(h,"i"));if(!l)return null;for(var m=Ga(Ga({},Bd),c),n=1;n<l.length;n++){var o=f[n-1],p=o[0],q=o[2],r=q?q(l[n],m):+l[n];if(null==r)return null;e[p]=r}1===e.isPm&&null!=e.hour&&12!=+e.hour?e.hour=+e.hour+12:0===e.isPm&&12==+e.hour&&(e.hour=0);for(var s=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond),t=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],n=0,u=t.length;n<u;n++)if(j[t[n][0]]&&e[t[n][0]]!==s[t[n][1]]())return null;return null==e.timezoneOffset?s:new Date(Date.UTC(e.year,e.month,e.day,e.hour,e.minute-e.timezoneOffset,e.second,e.millisecond))}function Ia(a){return a.substr(0,a.indexOf("."))}function Ja(a,b){if(a in Sd)return Sd[a];return"alarm_control_panel"===a?"armed_home"===b?"hass:bell-plus":"armed_night"===b?"hass:bell-sleep":"disarmed"===b?"hass:bell-outline":"triggered"===b?"hass:bell-ring":"hass:bell":"binary_sensor"===a?b&&"off"===b?"hass:radiobox-blank":"hass:checkbox-marked-circle":"cover"===a?"closed"===b?"hass:window-closed":"hass:window-open":"lock"===a?b&&"unlocked"===b?"hass:lock-open":"hass:lock":"media_player"===a?b&&"off"!==b&&"idle"!==b?"hass:cast-connected":"hass:cast":"zwave"===a?"dead"===b?"hass:emoticon-dead":"sleeping"===b?"hass:sleep":"initializing"===b?"hass:timer-sand":"hass:z-wave":(console.warn("Unable to find icon for domain "+a+" ("+b+")"),"hass:bookmark")}function O(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function Ka(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function La(){}function Ma(){return this.rgb().formatHex()}function Na(){return this.rgb().formatRgb()}function Oa(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=_d.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?Pa(b):3===c?new Ta(15&b>>8|240&b>>4,15&b>>4|240&b,(15&b)<<4|15&b,1):8===c?Qa(255&b>>24,255&b>>16,255&b>>8,(255&b)/255):4===c?Qa(15&b>>12|240&b>>8,15&b>>8|240&b>>4,15&b>>4|240&b,((15&b)<<4|15&b)/255):null):(b=ae.exec(a))?new Ta(b[1],b[2],b[3],1):(b=be.exec(a))?new Ta(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=ce.exec(a))?Qa(b[1],b[2],b[3],b[4]):(b=de.exec(a))?Qa(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=ee.exec(a))?Za(b[1],b[2]/100,b[3]/100,1):(b=fe.exec(a))?Za(b[1],b[2]/100,b[3]/100,b[4]):ge.hasOwnProperty(a)?Pa(ge[a]):"transparent"===a?new Ta(NaN,NaN,NaN,0):null}function Pa(a){return new Ta(255&a>>16,255&a>>8,255&a,1)}function Qa(c,d,e,f){return 0>=f&&(c=d=e=NaN),new Ta(c,d,e,f)}function Ra(a){return(a instanceof La||(a=Oa(a)),!a)?new Ta:(a=a.rgb(),new Ta(a.r,a.g,a.b,a.opacity))}function Sa(a,c,d,b){return 1===arguments.length?Ra(a):new Ta(a,c,d,null==b?1:b)}function Ta(a,c,d,b){this.r=+a,this.g=+c,this.b=+d,this.opacity=+b}function Ua(){return"#".concat(Ya(this.r)).concat(Ya(this.g)).concat(Ya(this.b))}function Va(){var b=Wa(this.opacity);return"".concat(1===b?"rgb(":"rgba(").concat(Xa(this.r),", ").concat(Xa(this.g),", ").concat(Xa(this.b)).concat(1===b?")":", ".concat(b,")"))}function Wa(a){return isNaN(a)?1:Gb(0,Hb(1,a))}function Xa(a){return Gb(0,Hb(255,Fb(a)||0))}function Ya(a){return a=Xa(a),(16>a?"0":"")+a.toString(16)}function Za(b,c,d,e){return 0>=e?b=c=d=NaN:0>=d||1<=d?b=c=NaN:0>=c&&(b=NaN),new ab(b,c,d,e)}function $a(a){if(a instanceof ab)return new ab(a.h,a.s,a.l,a.opacity);if(a instanceof La||(a=Oa(a)),!a)return new ab;if(a instanceof ab)return a;a=a.rgb();var c=a.r/255,d=a.g/255,e=a.b/255,b=Hb(c,d,e),f=Gb(c,d,e),g=NaN,i=f-b,j=(f+b)/2;return i?(g=c===f?(d-e)/i+6*(d<e):d===f?(e-c)/i+2:(c-d)/i+4,i/=.5>j?f+b:2-f-b,g*=60):i=0<j&&1>j?0:g,new ab(g,i,j,a.opacity)}function ab(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function bb(a){return a=(a||0)%360,0>a?a+360:a}function cb(a){return Gb(0,Hb(1,a||0))}function db(a,b,c){return 255*(60>a?b+(c-b)*a/60:180>a?c:240>a?b+(c-b)*(240-a)/60:b)}function eb(a){if(a instanceof fb)return new fb(a.l,a.a,a.b,a.opacity);if(a instanceof lb)return mb(a);a instanceof Ta||(a=Ra(a));var c,d,e=jb(a.r),f=jb(a.g),g=jb(a.b),b=gb((.2225045*e+.7168786*f+.0606169*g)/1);return e===f&&f===g?c=d=b:(c=gb((.4360747*e+.3850649*f+.1430804*g)/ke),d=gb((.0139322*e+.0971045*f+.7141733*g)/le)),new fb(116*b-16,500*(c-b),200*(b-d),a.opacity)}function fb(c,d,a,b){this.l=+c,this.a=+d,this.b=+a,this.opacity=+b}function gb(a){return a>pe?Eb(a,1/3):a/oe+me}function hb(a){return a>ne?a*a*a:oe*(a-me)}function ib(a){return 255*(.0031308>=a?12.92*a:1.055*Eb(a,1/2.4)-.055)}function jb(a){return .04045>=(a/=255)?a/12.92:Eb((a+.055)/1.055,2.4)}function kb(a){if(a instanceof lb)return new lb(a.h,a.c,a.l,a.opacity);if(a instanceof fb||(a=eb(a)),0===a.a&&0===a.b)return new lb(NaN,0<a.l&&100>a.l?0:NaN,a.l,a.opacity);var b=Db(a.b,a.a)*ie;return new lb(0>b?b+360:b,Cb(a.a*a.a+a.b*a.b),a.l,a.opacity)}function lb(a,b,c,d){this.h=+a,this.c=+b,this.l=+c,this.opacity=+d}function mb(a){if(isNaN(a.h))return new fb(a.l,0,0,a.opacity);var b=a.h*he;return new fb(a.l,Bb(b)*a.c,Ab(b)*a.c,a.opacity)}function nb(a){if(a instanceof ob)return new ob(a.h,a.s,a.l,a.opacity);a instanceof Ta||(a=Ra(a));var c=a.r/255,d=a.g/255,e=a.b/255,b=(xe*e+ve*c-we*d)/(xe+ve-we),f=e-b,g=(ue*(d-b)-se*f)/te,i=Cb(g*g+f*f)/(ue*b*(1-b)),j=i?Db(g,f)*ie-120:NaN;return new ob(0>j?j+360:j,i,b,a.opacity)}function ob(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function pb(b,a){return function(c){return b+c*a}}function qb(c,d,e){return c=Eb(c,e),d=Eb(d,e)-c,e=1/e,function(a){return Eb(c+a*d,e)}}function rb(c){return 1==(c=+c)?sb:function(d,a){return a-d?qb(d,a,c):ye(isNaN(d)?a:d)}}function sb(c,a){var b=a-c;return b?pb(c,b):ye(isNaN(c)?a:c)}var Ib="undefined"!=typeof window&&null!=window.customElements&&window.customElements.polyfillWrapFlushCallback!==void 0,Jb=function(a,b){for(var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;b!==c;){var e=b.nextSibling;a.insertBefore(b,d),b=e}},Kb=function(a,b){for(var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;b!==c;){var d=b.nextSibling;a.removeChild(b),b=d}},Lb="{{lit-".concat((Math.random()+"").slice(2),"}}"),Mb="<!--".concat(Lb,"-->"),Nb=new RegExp("".concat(Lb,"|").concat(Mb)),Ob="$lit$";class Pb{constructor(a,b){this.parts=[],this.element=b;for(var c,d=[],e=[],f=document.createTreeWalker(b.content,133,null,!1),g=0,h=-1,j=0,{strings:k,values:{length:l}}=a;j<l;){if(c=f.nextNode(),null===c){f.currentNode=e.pop();continue}if(h++,1===c.nodeType){if(c.hasAttributes()){for(var m=c.attributes,{length:n}=m,o=0,p=0;p<n;p++)Qb(m[p].name,Ob)&&o++;for(;0<o--;){var q=k[j],r=Tb.exec(q)[2],t=r.toLowerCase()+Ob,u=c.getAttribute(t);c.removeAttribute(t);var B=u.split(Nb);this.parts.push({type:"attribute",index:h,name:r,strings:B}),j+=B.length-1}}"TEMPLATE"===c.tagName&&(e.push(c),f.currentNode=c.content)}else if(3===c.nodeType){var C=c.data;if(0<=C.indexOf(Lb)){for(var v=c.parentNode,w=C.split(Nb),x=w.length-1,y=0;y<x;y++){var z=void 0,A=w[y];if(""===A)z=Sb();else{var D=Tb.exec(A);null!==D&&Qb(D[2],Ob)&&(A=A.slice(0,D.index)+D[1]+D[2].slice(0,-Ob.length)+D[3]),z=document.createTextNode(A)}v.insertBefore(z,c),this.parts.push({type:"node",index:++h})}""===w[x]?(v.insertBefore(Sb(),c),d.push(c)):c.data=w[x],j+=x}}else if(8===c.nodeType)if(c.data===Lb){var E=c.parentNode;(null===c.previousSibling||h===g)&&(h++,E.insertBefore(Sb(),c)),g=h,this.parts.push({type:"node",index:h}),null===c.nextSibling?c.data="":(d.push(c),h--),j++}else for(var F=-1;-1!==(F=c.data.indexOf(Lb,F+1));)this.parts.push({type:"node",index:-1}),j++}for(var G of d)G.parentNode.removeChild(G)}}var Qb=(a,b)=>{var c=a.length-b.length;return 0<=c&&a.slice(c)===b},Rb=a=>-1!==a.index,Sb=()=>document.createComment(""),Tb=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,Ub=a=>{for(var b=11===a.nodeType?0:1,c=document.createTreeWalker(a,133,null,!1);c.nextNode();)b++;return b},Vb=function(a){for(var b,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,d=c+1;d<a.length;d++)if(b=a[d],Rb(b))return d;return-1},Wb=new WeakMap,Xb=a=>"function"==typeof a&&Wb.has(a),Yb={},Zb={};class $b{constructor(a,b,c){this.__parts=[],this.template=a,this.processor=b,this.options=c}update(a){var b=0;for(var c of this.__parts)void 0!==c&&c.setValue(a[b]),b++;for(var d of this.__parts)void 0!==d&&d.commit()}_clone(){for(var a,b=Ib?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),c=[],d=this.template.parts,e=document.createTreeWalker(b,133,null,!1),f=0,g=0,h=e.nextNode();f<d.length;){if(a=d[f],!Rb(a)){this.__parts.push(void 0),f++;continue}for(;g<a.index;)g++,"TEMPLATE"===h.nodeName&&(c.push(h),e.currentNode=h.content),null===(h=e.nextNode())&&(e.currentNode=c.pop(),h=e.nextNode());if("node"===a.type){var j=this.processor.handleTextExpression(this.options);j.insertAfterNode(h.previousSibling),this.__parts.push(j)}else{var i;(i=this.__parts).push.apply(i,W(this.processor.handleAttributeExpressions(h,a.name,a.strings,this.options)))}f++}return Ib&&(document.adoptNode(b),customElements.upgrade(b)),b}}var _b=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:a=>a}),ac=" ".concat(Lb," ");class bc{constructor(a,b,c,d){this.strings=a,this.values=b,this.type=c,this.processor=d}getHTML(){for(var a=this.strings.length-1,b="",c=!1,d=0;d<a;d++){var e=this.strings[d],f=e.lastIndexOf("<!--");c=(-1<f||c)&&-1===e.indexOf("-->",f+1);var g=Tb.exec(e);b+=null===g?e+(c?ac:Mb):e.substr(0,g.index)+g[1]+g[2]+Ob+g[3]+Lb}return b+=this.strings[a],b}getTemplateElement(){var a=document.createElement("template"),b=this.getHTML();return void 0!==_b&&(b=_b.createHTML(b)),a.innerHTML=b,a}}class cc extends bc{getHTML(){return"<svg>".concat(super.getHTML(),"</svg>")}getTemplateElement(){var a=super.getTemplateElement(),b=a.content,c=b.firstChild;return b.removeChild(c),Jb(b,c.firstChild),a}}var dc=a=>null===a||"object"!=typeof a&&"function"!=typeof a,ec=a=>Array.isArray(a)||!!(a&&a[Symbol.iterator]);class fc{constructor(a,b,c){this.dirty=!0,this.element=a,this.name=b,this.strings=c,this.parts=[];for(var d=0;d<c.length-1;d++)this.parts[d]=this._createPart()}_createPart(){return new gc(this)}_getValue(){var a=this.strings,b=a.length-1,c=this.parts;if(1===b&&""===a[0]&&""===a[1]){var f=c[0].value;if("symbol"==typeof f)return f+"";if("string"==typeof f||!ec(f))return f}for(var d="",e=0;e<b;e++){d+=a[e];var g=c[e];if(void 0!==g){var h=g.value;if(dc(h)||!ec(h))d+="string"==typeof h?h:h+"";else for(var j of h)d+="string"==typeof j?j:j+""}}return d+=a[b],d}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class gc{constructor(a){this.value=void 0,this.committer=a}setValue(a){a===Yb||dc(a)&&a===this.value||(this.value=a,!Xb(a)&&(this.committer.dirty=!0))}commit(){for(;Xb(this.value);){var a=this.value;this.value=Yb,a(this)}this.value===Yb||this.committer.commit()}}class hc{constructor(a){this.value=void 0,this.__pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(Sb()),this.endNode=a.appendChild(Sb())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a.__insert(this.startNode=Sb()),a.__insert(this.endNode=Sb())}insertAfterPart(a){a.__insert(this.startNode=Sb()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this.__pendingValue=a}commit(){if(null!==this.startNode.parentNode){for(;Xb(this.__pendingValue);){var b=this.__pendingValue;this.__pendingValue=Yb,b(this)}var a=this.__pendingValue;a===Yb||(dc(a)?a!==this.value&&this.__commitText(a):a instanceof bc?this.__commitTemplateResult(a):a instanceof Node?this.__commitNode(a):ec(a)?this.__commitIterable(a):a===Zb?(this.value=Zb,this.clear()):this.__commitText(a))}}__insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}__commitNode(a){this.value===a||(this.clear(),this.__insert(a),this.value=a)}__commitText(a){var b=this.startNode.nextSibling;a=null==a?"":a;var c="string"==typeof a?a:a+"";b===this.endNode.previousSibling&&3===b.nodeType?b.data=c:this.__commitNode(document.createTextNode(c)),this.value=a}__commitTemplateResult(a){var b=this.options.templateFactory(a);if(this.value instanceof $b&&this.value.template===b)this.value.update(a.values);else{var c=new $b(b,a.processor,this.options),d=c._clone();c.update(a.values),this.__commitNode(d),this.value=c}}__commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());var b,c=this.value,d=0;for(var e of a)b=c[d],void 0===b&&(b=new hc(this.options),c.push(b),0===d?b.appendIntoPart(this):b.insertAfterPart(c[d-1])),b.setValue(e),b.commit(),d++;d<c.length&&(c.length=d,this.clear(b&&b.endNode))}clear(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.startNode;Kb(this.startNode.parentNode,a.nextSibling,this.endNode)}}class ic{constructor(a,b,c){if(this.value=void 0,this.__pendingValue=void 0,2!==c.length||""!==c[0]||""!==c[1])throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=b,this.strings=c}setValue(a){this.__pendingValue=a}commit(){for(;Xb(this.__pendingValue);){var b=this.__pendingValue;this.__pendingValue=Yb,b(this)}if(this.__pendingValue!==Yb){var a=!!this.__pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=a),this.__pendingValue=Yb}}}class jc extends fc{constructor(a,b,c){super(a,b,c),this.single=2===c.length&&""===c[0]&&""===c[1]}_createPart(){return new kc(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class kc extends gc{}var lc=!1;(()=>{try{var a={get capture(){return lc=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}})();class mc{constructor(a,b,c){this.value=void 0,this.__pendingValue=void 0,this.element=a,this.eventName=b,this.eventContext=c,this.__boundHandleEvent=a=>this.handleEvent(a)}setValue(a){this.__pendingValue=a}commit(){for(;Xb(this.__pendingValue);){var d=this.__pendingValue;this.__pendingValue=Yb,d(this)}if(this.__pendingValue!==Yb){var a=this.__pendingValue,b=this.value,c=null==a||null!=b&&(a.capture!==b.capture||a.once!==b.once||a.passive!==b.passive);c&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),null!=a&&(null==b||c)&&(this.__options=nc(a),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=a,this.__pendingValue=Yb}}handleEvent(a){"function"==typeof this.value?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}var nc=a=>a&&(lc?{capture:a.capture,passive:a.passive,once:a.once}:a.capture),oc=new Map,pc=new WeakMap,qc=(a,b,c)=>{var d=pc.get(b);d===void 0&&(Kb(b,b.firstChild),pc.set(b,d=new hc(Object.assign({templateFactory:T},c))),d.appendInto(b)),d.setValue(a),d.commit()};var rc=new class a{handleAttributeExpressions(a,b,c,d){var e=b[0];if("."===e){var g=new jc(a,b.slice(1),c);return g.parts}if("@"===e)return[new mc(a,b.slice(1),d.eventContext)];if("?"===e)return[new ic(a,b.slice(1),c)];var f=new fc(a,b,c);return f.parts}handleTextExpression(a){return new hc(a)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");var sc=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return new bc(a,c,"html",rc)},tc=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return new cc(a,c,"svg",rc)},uc=(a,b)=>"".concat(a,"--").concat(b),vc=!0;"undefined"==typeof window.ShadyCSS?vc=!1:"undefined"==typeof window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),vc=!1);var wc,xc=a=>b=>{var c=uc(b.type,a),d=oc.get(c);void 0===d&&(d={stringsArray:new WeakMap,keyString:new Map},oc.set(c,d));var e=d.stringsArray.get(b.strings);if(void 0!==e)return e;var f=b.strings.join(Lb);if(e=d.keyString.get(f),void 0===e){var g=b.getTemplateElement();vc&&window.ShadyCSS.prepareTemplateDom(g,a),e=new Pb(b,g),d.keyString.set(f,e)}return d.stringsArray.set(b.strings,e),e},yc=["html","svg"],zc=a=>{yc.forEach(b=>{var c=oc.get(uc(b,a));c!==void 0&&c.keyString.forEach(a=>{var{element:{content:b}}=a,c=new Set;Array.from(b.querySelectorAll("style")).forEach(a=>{c.add(a)}),i(a,c)})})},Ac=new Set,Bc=(a,b,c)=>{Ac.add(a);var d=!c?document.createElement("template"):c.element,e=b.querySelectorAll("style"),{length:f}=e;if(0===f)return void window.ShadyCSS.prepareTemplateStyles(d,a);for(var g,h=document.createElement("style"),j=0;j<f;j++)g=e[j],g.parentNode.removeChild(g),h.textContent+=g.textContent;zc(a);var k=d.content;!c?k.insertBefore(h,k.firstChild):S(c,h,k.firstChild),window.ShadyCSS.prepareTemplateStyles(d,a);var l=k.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)b.insertBefore(l.cloneNode(!0),b.firstChild);else if(!!c){k.insertBefore(h,k.firstChild);var m=new Set;m.add(h),i(c,m)}},Cc=(a,b,c)=>{if(!c||"object"!=typeof c||!c.scopeName)throw new Error("The `scopeName` option is required.");var d=c.scopeName,e=pc.has(b),f=vc&&11===b.nodeType&&!!b.host,g=f&&!Ac.has(d),h=g?document.createDocumentFragment():b;if(qc(a,h,Object.assign({templateFactory:xc(d)},c)),g){var i=pc.get(h);pc.delete(h);var j=i.value instanceof $b?i.value.template:void 0;Bc(d,h,j),Kb(b,b.firstChild),b.appendChild(h),pc.set(b,i)}!e&&f&&window.ShadyCSS.styleElement(b.host)};window.JSCompiler_renameProperty=a=>a;var Dc={toAttribute(a,b){return b===Boolean?a?"":null:b===Object||b===Array?null==a?a:JSON.stringify(a):a},fromAttribute(a,b){return b===Boolean?null!==a:b===Number?null===a?null:+a:b===Object||b===Array?JSON.parse(a):a}},Ec=(a,b)=>b!==a&&(b===b||a===a),Fc={attribute:!0,type:String,converter:Dc,reflect:!1,hasChanged:Ec},Gc=1,Hc=4,Ic=8,Jc=16,Kc="finalized";class Lc extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();var a=[];return this._classProperties.forEach((b,c)=>{var d=this._attributeNameForProperty(c,b);void 0!==d&&(this._attributeToPropertyMap.set(d,c),a.push(d))}),a}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var a=Object.getPrototypeOf(this)._classProperties;a!==void 0&&a.forEach((a,b)=>this._classProperties.set(b,a))}}static createProperty(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Fc;if(this._ensureClassProperties(),this._classProperties.set(a,b),!(b.noAccessor||this.prototype.hasOwnProperty(a))){var c="symbol"==typeof a?Symbol():"__".concat(a),d=this.getPropertyDescriptor(a,c,b);void 0!==d&&Object.defineProperty(this.prototype,a,d)}}static getPropertyDescriptor(a,b,c){return{get(){return this[b]},set(d){var e=this[a];this[b]=d,this.requestUpdateInternal(a,e,c)},configurable:!0,enumerable:!0}}static getPropertyOptions(a){return this._classProperties&&this._classProperties.get(a)||Fc}static finalize(){var a=Object.getPrototypeOf(this);if(a.hasOwnProperty(Kc)||a.finalize(),this[Kc]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var b=this.properties,c=[].concat(W(Object.getOwnPropertyNames(b)),W("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b):[]));for(var d of c)this.createProperty(d,b[d])}}static _attributeNameForProperty(a,b){var c=b.attribute;return!1===c?void 0:"string"==typeof c?c:"string"==typeof a?a.toLowerCase():void 0}static _valueHasChanged(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ec;return c(a,b)}static _propertyValueFromAttribute(a,b){var c=b.type,d=b.converter||Dc,e="function"==typeof d?d:d.fromAttribute;return e?e(a,c):a}static _propertyValueToAttribute(a,b){if(void 0!==b.reflect){var c=b.type,d=b.converter,e=d&&d.toAttribute||Dc.toAttribute;return e(a,c)}}initialize(){this._updateState=0,this._updatePromise=new Promise(a=>this._enableUpdatingResolver=a),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((a,b)=>{if(this.hasOwnProperty(b)){var c=this[b];delete this[b],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(b,c)}})}_applyInstanceProperties(){this._instanceProperties.forEach((a,b)=>this[b]=a),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(a,b,c){b!==c&&this._attributeToProperty(a,c)}_propertyToAttribute(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Fc,d=this.constructor,e=d._attributeNameForProperty(a,c);if(e!==void 0){var f=d._propertyValueToAttribute(b,c);if(f===void 0)return;this._updateState|=Ic,null==f?this.removeAttribute(e):this.setAttribute(e,f),this._updateState&=~Ic}}_attributeToProperty(a,b){if(!(this._updateState&Ic)){var c=this.constructor,d=c._attributeToPropertyMap.get(a);if(void 0!==d){var e=c.getPropertyOptions(d);this._updateState|=Jc,this[d]=c._propertyValueFromAttribute(b,e),this._updateState&=~Jc}}}requestUpdateInternal(a,b,c){var d=!0;if(a!==void 0){var e=this.constructor;c=c||e.getPropertyOptions(a),e._valueHasChanged(this[a],b,c.hasChanged)?(!this._changedProperties.has(a)&&this._changedProperties.set(a,b),!0===c.reflect&&!(this._updateState&Jc)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(a,c))):d=!1}!this._hasRequestedUpdate&&d&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(a,b){return this.requestUpdateInternal(a,b),this.updateComplete}_enqueueUpdate(){var a=this;return U(function*(){a._updateState|=Hc;try{yield a._updatePromise}catch(a){}var b=a.performUpdate();return null!=b&&(yield b),!a._hasRequestedUpdate})()}get _hasRequestedUpdate(){return this._updateState&Hc}get hasUpdated(){return this._updateState&Gc}performUpdate(){if(this._hasRequestedUpdate){this._instanceProperties&&this._applyInstanceProperties();var a=!1,b=this._changedProperties;try{a=this.shouldUpdate(b),a?this.update(b):this._markUpdated()}catch(b){throw a=!1,this._markUpdated(),b}a&&(!(this._updateState&Gc)&&(this._updateState|=Gc,this.firstUpdated(b)),this.updated(b))}}_markUpdated(){this._changedProperties=new Map,this._updateState&=~Hc}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(){return!0}update(){this._reflectingProperties!==void 0&&0<this._reflectingProperties.size&&(this._reflectingProperties.forEach((a,b)=>this._propertyToAttribute(b,this[b],a)),this._reflectingProperties=void 0),this._markUpdated()}updated(){}firstUpdated(){}}wc=Kc,Lc[wc]=!0;var Mc=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Nc=Symbol();class Oc{constructor(a,b){if(b!==Nc)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=a}get styleSheet(){return void 0===this._styleSheet&&(Mc?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}var Pc=a=>new Oc(a+"",Nc),Qc=a=>{if(a instanceof Oc)return a.cssText;if("number"==typeof a)return a;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(a,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");var Rc={};class Sc extends Lc{static getStyles(){return this.styles}static _getUniqueStyles(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))){var a=this.getStyles();if(Array.isArray(a)){var b=(a,c)=>a.reduceRight((a,c)=>Array.isArray(c)?b(c,a):(a.add(c),a),c),c=b(a,new Set),d=[];c.forEach(a=>d.unshift(a)),this._styles=d}else this._styles=void 0===a?[]:[a];this._styles=this._styles.map(a=>{if(a instanceof CSSStyleSheet&&!Mc){var b=Array.prototype.slice.call(a.cssRules).reduce((a,b)=>a+b.cssText,"");return Pc(b)}return a})}}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){var a=this.constructor._styles;0===a.length||(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow?Mc?this.renderRoot.adoptedStyleSheets=a.map(a=>a instanceof CSSStyleSheet?a:a.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(a.map(a=>a.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(a){var b=this.render();super.update(a),b!==Rc&&this.constructor.render(b,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(a=>{var b=document.createElement("style");b.textContent=a.cssText,this.renderRoot.appendChild(b)}))}render(){return Rc}}Sc.finalized=!0,Sc.render=Cc;var Tc=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(a){}}();"undefined"==typeof Promise&&require("lie/polyfill");var Uc,Vc=Promise,Wc={},Xc=Object.prototype.toString,Yc={_driver:"asyncStorage",_initStorage:function(a){function b(){return Vc.resolve()}var c=this,d={db:null};if(a)for(var e in a)d[e]=a[e];var f=Wc[d.name];f||(f=sa(),Wc[d.name]=f),f.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=pa);for(var g,h=[],i=0;i<f.forages.length;i++)g=f.forages[i],g!==c&&h.push(g._initReady().catch(b));var l=f.forages.slice(0);return Vc.all(h).then(function(){return d.db=f.db,ja(d)}).then(function(a){return d.db=a,la(d,c._defaultConfig.version)?ka(d):a}).then(function(a){d.db=f.db=a,c._dbInfo=d;for(var b,e=0;e<l.length;e++)b=l[e],b!==c&&(b._dbInfo.db=d.db,b._dbInfo.version=d.version)})},_support:function(){try{if(!Tc||!Tc.open)return!1;var a="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!a||b)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(a){return!1}}(),iterate:function(a,b){var c=this,d=new Vc(function(b,d){c.ready().then(function(){ra(c._dbInfo,"readonly",function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=g.openCursor(),i=1;h.onsuccess=function(){var c=h.result;if(c){var d=c.value;oa(d)&&(d=na(d));var e=a(d,c.key,i++);void 0===e?c.continue():b(e)}else b()},h.onerror=function(){d(h.error)}}catch(a){d(a)}})}).catch(d)});return $(d,b),d},getItem:function(a,b){var c=this;a=aa(a);var d=new Vc(function(b,d){c.ready().then(function(){ra(c._dbInfo,"readonly",function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=g.get(a);h.onsuccess=function(){var a=h.result;void 0===a&&(a=null),oa(a)&&(a=na(a)),b(a)},h.onerror=function(){d(h.error)}}catch(a){d(a)}})}).catch(d)});return $(d,b),d},setItem:function(a,b,c){var d=this;a=aa(a);var e=new Vc(function(c,f){var g;d.ready().then(function(){return g=d._dbInfo,"[object Blob]"===Xc.call(b)?ea(g.db).then(function(a){return a?b:ma(b)}):b}).then(function(b){ra(d._dbInfo,"readwrite",function(e,g){if(e)return f(e);try{var h=g.objectStore(d._dbInfo.storeName);null===b&&(b=void 0);var i=h.put(b,a);g.oncomplete=function(){void 0===b&&(b=null),c(b)},g.onabort=g.onerror=function(){var a=i.error?i.error:i.transaction.error;f(a)}}catch(a){f(a)}})}).catch(f)});return $(e,c),e},removeItem:function(a,b){var c=this;a=aa(a);var d=new Vc(function(b,d){c.ready().then(function(){ra(c._dbInfo,"readwrite",function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=g.delete(a);f.oncomplete=function(){b()},f.onerror=function(){d(h.error)},f.onabort=function(){var a=h.error?h.error:h.transaction.error;d(a)}}catch(a){d(a)}})}).catch(d)});return $(d,b),d},clear:function(a){var b=this,c=new Vc(function(a,c){b.ready().then(function(){ra(b._dbInfo,"readwrite",function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName),g=f.clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){var a=g.error?g.error:g.transaction.error;c(a)}}catch(a){c(a)}})}).catch(c)});return $(c,a),c},length:function(a){var b=this,c=new Vc(function(a,c){b.ready().then(function(){ra(b._dbInfo,"readonly",function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName),g=f.count();g.onsuccess=function(){a(g.result)},g.onerror=function(){c(g.error)}}catch(a){c(a)}})}).catch(c)});return $(c,a),c},key:function(a,b){var c=this,d=new Vc(function(b,d){return 0>a?void b(null):void c.ready().then(function(){ra(c._dbInfo,"readonly",function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=!1,i=g.openKeyCursor();i.onsuccess=function(){var c=i.result;return c?void(0===a?b(c.key):h?b(c.key):(h=!0,c.advance(a))):void b(null)},i.onerror=function(){d(i.error)}}catch(a){d(a)}})}).catch(d)});return $(d,b),d},keys:function(a){var b=this,c=new Vc(function(a,c){b.ready().then(function(){ra(b._dbInfo,"readonly",function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName),g=f.openKeyCursor(),h=[];g.onsuccess=function(){var b=g.result;return b?void(h.push(b.key),b.continue()):void a(h)},g.onerror=function(){c(g.error)}}catch(a){c(a)}})}).catch(c)});return $(c,a),c},dropInstance:function(a,b){b=ba.apply(this,arguments);var c=this.config();a="function"!=typeof a&&a||{},a.name||(a.name=a.name||c.name,a.storeName=a.storeName||c.storeName);var d,e=this;if(!a.name)d=Vc.reject("Invalid arguments");else{var f=a.name===c.name&&e._dbInfo.db,g=f?Vc.resolve(e._dbInfo.db):ja(a).then(b=>{var c=Wc[a.name],d=c.forages;c.db=b;for(var e=0;e<d.length;e++)d[e]._dbInfo.db=b;return b});d=a.storeName?g.then(b=>{if(b.objectStoreNames.contains(a.storeName)){var c=b.version+1;fa(a);var d=Wc[a.name],e=d.forages;b.close();for(var g,h=0;h<e.length;h++)g=e[h],g._dbInfo.db=null,g._dbInfo.version=c;var f=new Vc((b,d)=>{var e=Tc.open(a.name,c);e.onerror=a=>{var b=e.result;b.close(),d(a)},e.onupgradeneeded=()=>{var b=e.result;b.deleteObjectStore(a.storeName)},e.onsuccess=()=>{var a=e.result;a.close(),b(a)}});return f.then(a=>{d.db=a;for(var b,c=0;c<e.length;c++)b=e[c],b._dbInfo.db=a,ga(b._dbInfo)}).catch(b=>{throw(ha(a,b)||Vc.resolve()).catch(()=>{}),b})}}):g.then(b=>{fa(a);var c=Wc[a.name],d=c.forages;b.close();for(var e,f=0;f<d.length;f++)e=d[f],e._dbInfo.db=null;var g=new Vc((b,c)=>{var d=Tc.deleteDatabase(a.name);d.onerror=d.onblocked=a=>{var b=d.result;b&&b.close(),c(a)},d.onsuccess=()=>{var a=d.result;a&&a.close(),b(a)}});return g.then(a=>{c.db=a;for(var b,e=0;e<d.length;e++)b=d[e],ga(b._dbInfo)}).catch(b=>{throw(ha(a,b)||Vc.resolve()).catch(()=>{}),b})})}return $(d,b),d}},Zc=/^~~local_forage_type~([^~]+)~/,$c="__lfsc__:".length,_c=$c+"arbf".length,ad=Object.prototype.toString,bd={serialize:function(a,b){var c="";if(a&&(c=ad.call(a)),a&&("[object ArrayBuffer]"===c||a.buffer&&"[object ArrayBuffer]"===ad.call(a.buffer))){var d,e="__lfsc__:";a instanceof ArrayBuffer?(d=a,e+="arbf"):(d=a.buffer,"[object Int8Array]"===c?e+="si08":"[object Uint8Array]"===c?e+="ui08":"[object Uint8ClampedArray]"===c?e+="uic8":"[object Int16Array]"===c?e+="si16":"[object Uint16Array]"===c?e+="ur16":"[object Int32Array]"===c?e+="si32":"[object Uint32Array]"===c?e+="ui32":"[object Float32Array]"===c?e+="fl32":"[object Float64Array]"===c?e+="fl64":b(new Error("Failed to get type for BinaryArray"))),b(e+ua(d))}else if("[object Blob]"===c){var f=new FileReader;f.onload=function(){var c="~~local_forage_type~"+a.type+"~"+ua(this.result);b("__lfsc__:blob"+c)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(c){console.error("Couldn't convert value into a JSON string: ",a),b(null,c)}},deserialize:function(a){if(a.substring(0,$c)!=="__lfsc__:")return JSON.parse(a);var b,c=a.substring(_c),d=a.substring($c,_c);if(d==="blob"&&Zc.test(c)){var e=c.match(Zc);b=e[1],c=c.substring(e[0].length)}var f=ta(c);switch(d){case"arbf":return f;case"blob":return Z([f],{type:b});case"si08":return new Int8Array(f);case"ui08":return new Uint8Array(f);case"uic8":return new Uint8ClampedArray(f);case"si16":return new Int16Array(f);case"ur16":return new Uint16Array(f);case"si32":return new Int32Array(f);case"ui32":return new Uint32Array(f);case"fl32":return new Float32Array(f);case"fl64":return new Float64Array(f);default:throw new Error("Unkown type: "+d);}},stringToBuffer:ta,bufferToString:ua},cd={_driver:"webSQLStorage",_initStorage:function(a){var b=this,c={db:null};if(a)for(var d in a)c[d]="string"==typeof a[d]?a[d]:a[d].toString();var e=new Vc(function(a,d){try{c.db=openDatabase(c.name,c.version+"",c.description,c.size)}catch(a){return d(a)}c.db.transaction(function(e){va(e,c,function(){b._dbInfo=c,a()},function(a,b){d(b)})},d)});return c.serializer=bd,e},_support:function(){return"function"==typeof openDatabase}(),iterate:function(a,b){var c=this,d=new Vc(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){wa(c,e,"SELECT * FROM ".concat(e.storeName),[],function(c,d){for(var f=d.rows,g=f.length,h=0;h<g;h++){var j=f.item(h),k=j.value;if(k&&(k=e.serializer.deserialize(k)),k=a(k,j.key,h+1),void 0!==k)return void b(k)}b()},function(a,b){d(b)})})}).catch(d)});return $(d,b),d},getItem:function(a,b){var c=this;a=aa(a);var d=new Vc(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){wa(c,e,"SELECT * FROM ".concat(e.storeName," WHERE key = ? LIMIT 1"),[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=e.serializer.deserialize(d)),b(d)},function(a,b){d(b)})})}).catch(d)});return $(d,b),d},setItem:function(a,b,c){return xa.apply(this,[a,b,c,1])},removeItem:function(a,b){var c=this;a=aa(a);var d=new Vc(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){wa(c,e,"DELETE FROM ".concat(e.storeName," WHERE key = ?"),[a],function(){b()},function(a,b){d(b)})})}).catch(d)});return $(d,b),d},clear:function(a){var b=this,c=new Vc(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){wa(b,d,"DELETE FROM ".concat(d.storeName),[],function(){a()},function(a,b){c(b)})})}).catch(c)});return $(c,a),c},length:function(a){var b=this,c=new Vc(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){wa(b,d,"SELECT COUNT(key) as c FROM ".concat(d.storeName),[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})}).catch(c)});return $(c,a),c},key:function(a,b){var c=this,d=new Vc(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){wa(c,e,"SELECT key FROM ".concat(e.storeName," WHERE id = ? LIMIT 1"),[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})}).catch(d)});return $(d,b),d},keys:function(a){var b=this,c=new Vc(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){wa(b,d,"SELECT key FROM ".concat(d.storeName),[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})}).catch(c)});return $(c,a),c},dropInstance:function(a,b){b=ba.apply(this,arguments);var c=this.config();a="function"!=typeof a&&a||{},a.name||(a.name=a.name||c.name,a.storeName=a.storeName||c.storeName);var d,e=this;return d=a.name?new Vc(function(b){var d;d=a.name===c.name?e._dbInfo.db:openDatabase(a.name,"","",0),a.storeName?b({db:d,storeNames:[a.storeName]}):b(ya(d))}).then(function(a){return new Vc(function(b,c){a.db.transaction(function(d){function e(a){return new Vc(function(b,c){d.executeSql("DROP TABLE IF EXISTS ".concat(a),[],function(){b()},function(a,b){c(b)})})}for(var f=[],g=0,h=a.storeNames.length;g<h;g++)f.push(e(a.storeNames[g]));Vc.all(f).then(function(){b()}).catch(function(a){c(a)})},function(a){c(a)})})}):Vc.reject("Invalid arguments"),$(d,b),d}},dd={_driver:"localStorageWrapper",_initStorage:function(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return(c.keyPrefix=Aa(a,b._defaultConfig),!Ca())?Vc.reject():(b._dbInfo=c,c.serializer=bd,Vc.resolve())},_support:za(),iterate:function(a,b){var c=this,d=c.ready().then(function(){for(var b,d=c._dbInfo,e=d.keyPrefix,f=e.length,g=localStorage.length,h=1,j=0;j<g;j++)if(b=localStorage.key(j),0===b.indexOf(e)){var k=localStorage.getItem(b);if(k&&(k=d.serializer.deserialize(k)),k=a(k,b.substring(f),h++),void 0!==k)return k}});return $(d,b),d},getItem:function(a,b){var c=this;a=aa(a);var d=c.ready().then(function(){var b=c._dbInfo,d=localStorage.getItem(b.keyPrefix+a);return d&&(d=b.serializer.deserialize(d)),d});return $(d,b),d},setItem:function(a,b,c){var d=this;a=aa(a);var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new Vc(function(e,f){var g=d._dbInfo;g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(g.keyPrefix+a,b),e(c)}catch(a){("QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&f(a),f(a)}})})});return $(e,c),e},removeItem:function(a,b){var c=this;a=aa(a);var d=c.ready().then(function(){var b=c._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return $(d,b),d},clear:function(a){var b=this,c=b.ready().then(function(){for(var a,c=b._dbInfo.keyPrefix,d=localStorage.length-1;0<=d;d--)a=localStorage.key(d),0===a.indexOf(c)&&localStorage.removeItem(a)});return $(c,a),c},length:function(a){var b=this,c=b.keys().then(function(a){return a.length});return $(c,a),c},key:function(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=localStorage.key(a)}catch(a){b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return $(d,b),d},keys:function(a){var b=this,c=b.ready().then(function(){for(var a,c=b._dbInfo,d=localStorage.length,e=[],f=0;f<d;f++)a=localStorage.key(f),0===a.indexOf(c.keyPrefix)&&e.push(a.substring(c.keyPrefix.length));return e});return $(c,a),c},dropInstance:function(a,b){if(b=ba.apply(this,arguments),a="function"!=typeof a&&a||{},!a.name){var c=this.config();a.name=a.name||c.name,a.storeName=a.storeName||c.storeName}var d,e=this;return d=a.name?new Vc(function(b){a.storeName?b(Aa(a,e._defaultConfig)):b("".concat(a.name,"/"))}).then(function(a){for(var b,c=localStorage.length-1;0<=c;c--)b=localStorage.key(c),0===b.indexOf(a)&&localStorage.removeItem(b)}):Vc.reject("Invalid arguments"),$(d,b),d}},ed=(a,b)=>a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b),fd=(a,b)=>{for(var c=a.length,d=0;d<c;){if(ed(a[d],b))return!0;d++}return!1},gd=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},hd={},id={},jd={INDEXEDDB:Yc,WEBSQL:cd,LOCALSTORAGE:dd},kd=[jd.INDEXEDDB._driver,jd.WEBSQL._driver,jd.LOCALSTORAGE._driver],ld=["dropInstance"],md=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ld),nd={description: ''
